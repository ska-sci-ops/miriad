%N velsw
%D Change the 'velocity' axis of an image.
%P rjs
%: map manipulation
%B
        VELSW is a Miriad task used to change the type of a spectral
        axis.  For example, a frequency axis could be changed to
        redshift or relativistic velocity.
 
        The resulting axis may be non-linear.  If so, it will be marked
        by a code, e.g. VOPT-F2W, meaning that it is actually linear in
        frequency (F) but is labelled as a spectral type that is linear
        in wavelength (W).  Such non-linear axes are handled properly by
        the coordinate routines.  However, when plotted, non-linear axes
        are only correct to first-order at the reference point.
 
        Switching between velocity and other spectral types, via the
        Doppler formula, is only possible if a rest frequency is
        recorded in the header.  It is also possible to change the
        Doppler reference frame to barycentric or LSRK (only).
 
        Note that velocity axes labelled as {VELO,FELO}-{HEL,LSR} in
        Miriad have been Doppler-shifted to the specified frame
        (barycentric or LSRK) as would be expected.  However, frequency
        axes labelled as FREQ-{HEL,LSR} are actually topocentric, the
        Doppler frame here refers only to the value of vobs recorded in
        the header.  This convention also applies to FITS images written
        and read by Miriad - the presence of vobs with FREQ-{HEL,LSR} in
        the header of a Miriad image read from such a FITS file is
        indicative.  However, there is a potential inconsistency when
        FITS files generated by other packages are read into Miriad.
        See option altspc below.
%A in
        Name of the input image data set.  No default.
%A axis
        The spectral type to change to:
          FREQ: frequency,
          ENER: photon energy (linear with frequency),
          WAVN: wavenumber (linear with frequency),
          VRAD: radio velocity (linear with frequency),
          WAVE: wavelength,
          VOPT: optical velocity (linear with wavelength),
          ZOPT: redshift (linear with wavelength),
          AWAV: air wavelength (applicable to optical regime only),
          VELO: apparent radial velocity (relativistic),
          BETA: relativistic beta factor (= VELO/c).
 
        Note that there is no minimum-match on these four-letter
        spectral types.  For backwards compatibility, 'frequency',
        'radio', and 'optical' (with min-match) are understood as
        synonyms for 'FREQ', 'VRAD', and 'VOPT'.
 
        AIPS-convention types, {FREQ,VELO,FELO}-{HEL,LSR}, are also
        understood and will be translated.  Here VELO means radio
        velocity (VRAD), and FELO is optical velocity (VOPT-F2W).
        However, these types are deprecated, and there is no way to
        switch to them explicitly.
 
        An optional second value defines the Doppler frame to transform
        to (min-match applies):
          BARYCENT: Solar System barycentre (aka BARYCENT{RE,ER,RIC},
                    or HEL),
              LSRK: Kinematic Local Standard of Rest.
 
        The default for both the spectral type and the Doppler frame is
        to leave them as is, performing only required translations.
%A options
        Extra processing options.
          altspc    Force FREQ-{HEL,LSR} axes to be interpreted as
                    barycentric or LSRK (rather than topocentric - see
                    above).  Since vobs will normally be absent from
                    the Miriad header of images read from FITS files
                    generated by other packages (such as Livedata), it
                    should not normally be necessary to use this option.
                    However, it will not hurt.  Thus, running
 
                       velsw in=<infile>
 
                    should be enough to fix such headers; ctype and
                    specsys would be relabelled while leaving crval and
                    cdelt unchanged.
 
%R 1.6, 2012/03/05 03:40:55 UTC
